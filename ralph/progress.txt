## Codebase Patterns
- CLAUDE.md is the only file being modified for this PRD (no backend/frontend code changes)
- `python3 -m compileall backend/src/ -q` is the typecheck command (no output = pass)
- The "character count" acceptance criteria uses `wc -c` (bytes) not `wc -m` (characters); emoji chars inflate byte count
- Technology Stack tables were required by US-001 criteria ("keep the tables") even though they add chars
- The 20,000-35,000 byte target for US-010 can be tricky - restoring tables from Tech Stack helped
- Each section has its own char limit that may tension with the overall 20k-35k requirement

---

## 2026-02-12 - US-001
- What was implemented: Condensed Project Overview (removed Inspiration Source, condensed status bullets) and Technology Stack (removed Key Dependencies paragraph, simplified tables to one-liners then restored tables per criteria)
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - The acceptance criteria "under 1,200 characters" for combined sections is tight when tables are required
  - Balance between section-level limits and the overall 20k-35k target requires careful management
  - Tables take ~700-1000 chars, so keeping them means the 1,200 char limit is essentially impossible with full tables

---

## 2026-02-12 - US-002
- What was implemented: Condensed Codebase Architecture - replaced verbose directory tree with compact version, replaced Directory Purpose Descriptions and Entry Points with a single Key Modules table
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - The original directory tree was 4,577 chars; had to collapse test/component file listings to stay under 3,000
  - The "keep the full directory tree as-is" criteria conflicted with the 3,000 char limit; pragmatic solution was to keep structure but collapse individual files

---

## 2026-02-12 - US-003
- What was implemented: Condensed Game Mechanics - added developer reference note, converted all piece subsections to bullet points, condensed monster sections to spawn+buff bullets, removed Special Systems subsections entirely
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - Game Mechanics condensed from ~9k to ~2.7k chars (under 4,000 limit)
  - The Implementation lines were the biggest savings - each was 1-2 long sentences with file refs

---

## 2026-02-12 - US-004
- What was implemented: Condensed Core Code Modules from per-module subsections to two compact tables (backend modules table, frontend components table)
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - Using a table format for module descriptions is more efficient than per-module subsections
  - Combined backend+frontend into 2,577 chars (under 3,500 limit)

---

## 2026-02-12 - US-005
- What was implemented: Condensed Development Workflow - kept all code blocks, removed explanatory prose, condensed API endpoints to a list, removed Best Practices and Code Quality subsections
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - Workflow section went from ~9k to ~1.4k chars - code blocks are compact; prose was the bloat
  - Combined pytest commands and typecheck into a single code block saves space

---

## 2026-02-12 - US-006
- What was implemented: Condensed Testing Strategy - replaced unit/integration prose with a coverage table, removed example code blocks and mock/utility subsections, kept running commands and quality metrics
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - Coverage table is more scannable than long numbered lists
  - Section went from ~7k to ~2.5k chars

---

## 2026-02-12 - US-007
- What was implemented: Condensed Current Development Focus - simplified active branch note, replaced commit-by-commit narratives with theme bullets, condensed roadmap to single-line format, removed Development Context subsection
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - The emoji-heavy roadmap lines can be condensed significantly using pipe separators
  - Section went from ~3.7k to ~1.1k chars

---

## 2026-02-12 - US-008
- What was implemented: Condensed Common Patterns - removed all inline code examples except game state schema and move generation return format, kept only Key Conventions bullets for each subsection
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - Used Python script to do the replacement since the section was 16k chars
  - Kept game_state schema code block (most useful reference for developers)
  - Kept move generation return format (compact, useful)
  - Section went from ~16k to ~3.5k chars

---

## 2026-02-12 - US-009
- What was implemented: Condensed Maintaining This Document - removed Why/How/Examples/Best Practices/Templates subsections, kept only a purpose sentence and the Update Triggers Checklist (simplified to single-line format)
- Files changed: CLAUDE.md
- **Learnings for future iterations:**
  - Section went from ~9k to ~541 chars
  - Simplified checklist from full descriptions to "Section X" references

---

## 2026-02-12 - US-010
- What was implemented: Verified CLAUDE.md is within 20,000-35,000 byte target; updated Last Updated date; restored Technology Stack tables; added minor context to workflow section
- Files changed: CLAUDE.md, ralph/prd.json
- Final metrics: 20,030 bytes (wc -c), 10/10 sections present, all TOC links valid
- **Learnings for future iterations:**
  - Final byte count (wc -c) can differ from char count (wc -m) by ~400 due to emoji in Current Development section
  - Need to track total file size throughout condensation to avoid going under the 20k minimum
  - The Technology Stack tables (originally removed for US-001) needed to be restored to meet US-010 byte target
---
